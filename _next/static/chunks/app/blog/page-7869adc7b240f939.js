(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[831],{2536:e=>{e.exports={gallery:"Gallery_gallery__69aHQ"}},5739:(e,t,n)=>{"use strict";n.d(t,{default:()=>g});var a=n(5155),r=n(2115),i=n(6766),o=n(8497),l=n.n(o);function s(e){let{item:t,onClick:n}=e,r=t.sizes[0],o=37.8*r.widthCm,s=37.8*r.heightCm;return(0,a.jsxs)("div",{className:l().card,onClick:n,children:[(0,a.jsx)("div",{className:l().imageWrapper,children:(0,a.jsx)(i.default,{src:t.src,alt:t.title,layout:"responsive",width:o,height:s,objectFit:"cover"})}),(0,a.jsxs)("div",{className:l().info,children:[(0,a.jsx)("h3",{children:t.title}),(0,a.jsx)("p",{className:l().tags,children:t.tags.join(" • ")})]})]})}var c=n(7650),d=n(6894),u=n(7281),m=n(6278),h=n.n(m);function p(e){let{item:t,initialSize:n,onSizeSelect:o,onClose:l,isARSupported:s,arActive:m,onARLaunch:p}=e,f=document.getElementById("modal-root");return((0,r.useEffect)(()=>{if(!f)return;let e=e=>"Escape"===e.key&&l();return document.addEventListener("keydown",e),(0,u.mh)(f,{reserveScrollBarGap:!0}),()=>{document.removeEventListener("keydown",e),(0,u.fY)(f)}},[f,l]),f)?c.createPortal((0,a.jsx)("div",{className:h().backdrop,onClick:l,role:"dialog","aria-modal":"true",children:(0,a.jsx)(d.Ay,{children:(0,a.jsxs)("div",{className:h().modal,onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)("header",{className:h().header,children:[(0,a.jsx)("h2",{children:t.title}),(0,a.jsx)("button",{className:h().closeBtn,onClick:l,"aria-label":"Close",children:"\xd7"})]}),(0,a.jsxs)("div",{className:h().body,children:[(0,a.jsx)("div",{className:h().left,children:(0,a.jsx)(i.default,{src:t.src,alt:t.title,layout:"responsive",width:800,height:600,objectFit:"contain"})}),(0,a.jsxs)("div",{className:h().right,children:[(0,a.jsx)("p",{children:t.description}),(0,a.jsx)("h3",{children:"Available Sizes"}),(0,a.jsx)("ul",{className:h().sizeList,children:t.sizes.map(e=>(0,a.jsx)("li",{children:(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"radio",name:"size",checked:n===e,onChange:()=>o(e)})," ","".concat(e.size," — $").concat(e.price)]})},e.size))}),(0,a.jsxs)("div",{className:h().buttonsRow,children:[s&&(0,a.jsx)("button",{className:h().arBtn,disabled:!n||m,onClick:()=>n&&p(t,n),children:m?"AR Active":"View in Your Space"}),(0,a.jsx)("button",{className:h().contactBtn,disabled:!n,onClick:()=>{if(!n)return;let e=encodeURIComponent('Inquiry: "'.concat(t.title,'" — ').concat(n.size)),a=encodeURIComponent("Hi,\n\nI’m interested in the ".concat(n.size,' print of "').concat(t.title,'".\n\nThanks!'));window.location.href="mailto:".concat("you@yourdomain.com","?subject=").concat(e,"&body=").concat(a)},children:"Contact to Purchase"})]})]})]})]})})}),f):null}var f=n(3264),w=n(7431),_=n(2536),x=n.n(_);function g(e){let{items:t}=e,[n,i]=(0,r.useState)(null),[o,l]=(0,r.useState)(null),[c,d]=(0,r.useState)(!1),[u,m]=(0,r.useState)(!1),h=(0,r.useRef)(null),_=(0,r.useRef)(null),g=(0,r.useRef)(null),v=(0,r.useRef)(null);(0,r.useEffect)(()=>{var e;null==(e=navigator.xr)||e.isSessionSupported("immersive-ar").then(e=>d(e)).catch(()=>d(!1))},[]);let y=(0,r.useCallback)(()=>{h.current&&(h.current.end(),h.current=null),null!=g.current&&(cancelAnimationFrame(g.current),g.current=null),_.current&&(_.current.remove(),_.current=null),m(!1)},[]);async function b(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:256;return new Promise((n,a)=>{let r=new Image;r.crossOrigin="anonymous",r.onload=()=>{let e=Math.min(t/r.naturalWidth,t/r.naturalHeight,1),a=Math.floor(r.naturalWidth*e),i=Math.floor(r.naturalHeight*e),o=document.createElement("canvas");o.width=a,o.height=i,o.getContext("2d").drawImage(r,0,0,a,i);let l=new f.gPd(o);l.flipY=!1,l.colorSpace=f.er$,l.needsUpdate=!0,l.generateMipmaps=!0,l.minFilter=f.$_I,n(l)},r.onerror=a,r.src=e})}async function j(e,t){if(!c)return;y(),(await navigator.mediaDevices.getUserMedia({video:!0})).getTracks().forEach(e=>e.stop());let n=await navigator.xr.requestSession("immersive-ar",{optionalFeatures:["dom-overlay"],domOverlay:{root:v.current}});h.current=n,m(!0),n.addEventListener("end",y);let a=document.createElement("canvas");Object.assign(a.style,{position:"fixed",top:0,left:0,width:"100%",height:"100%",touchAction:"none",cursor:"grab"}),document.body.appendChild(a),_.current=a;let r=a.getContext("webgl2",{xrCompatible:!0,alpha:!0});await r.makeXRCompatible(),n.updateRenderState({baseLayer:new XRWebGLLayer(n,r)});let i=new w.JeP({canvas:a,context:r,alpha:!0});i.setSize(window.innerWidth,window.innerHeight),i.xr.enabled=!0,i.xr.setSession(n),i.xr.setReferenceSpaceType("local");let o=new f.Z58;o.add(new f.dth(0xffffff,4473924,1));let l=new f.ZyN(0xffffff,1.2);l.position.set(0,5,0),o.add(l);let s=new f.ubm(70,window.innerWidth/window.innerHeight,.01,20),d=await n.requestReferenceSpace("local"),u=.01*t.widthCm,p=.01*t.heightCm,x=await b(e.src),g=x.image,j=g.width/g.height,C=u,P=p;j>u/p?P=u/j:C=p*j;let M=new f.YJl;M.visible=!1,o.add(M);let k=new f.V9B({map:x,side:f.$EB,depthWrite:!0}),S=new f.eaF(new f.bdM(C,P),k);M.add(S),b(e.src,Math.max(2048,1e3*C,1e3*P)).then(e=>{k.map=e,k.needsUpdate=!0}).catch(console.warn);let E=null,R=null;n.addEventListener("select",()=>{E&&(o.remove(E),E=null,M.visible=!1),function(){if(!R)return;let e=R.views[0],t=new f.kn4().fromArray(e.transform.matrix),n=new f.Pq0,a=new f.PTz;t.decompose(n,a,new f.Pq0);let r=new f.Pq0(0,0,-1).applyQuaternion(a).setY(0).normalize(),i=n.clone().add(r.multiplyScalar(3*.0254)),l=new f.kn4().lookAt(i,n,new f.Pq0(0,1,0)),s=new f.PTz().setFromRotationMatrix(l).multiply(new f.PTz().setFromAxisAngle(new f.Pq0(0,0,1),Math.PI)),c=4/3*C,d=4/3*P;(E=new f.eaF(new f.bdM(c,d),new f.V9B({color:0xdddddd,side:f.$EB}))).position.copy(i),E.quaternion.copy(s),M.position.set(0,0,0),M.quaternion.identity(),E.add(M),M.visible=!0,o.add(E),S.position.z=-.001}()}),n.requestAnimationFrame(function e(t,a){n.requestAnimationFrame(e);let l=n.renderState.baseLayer;r.bindFramebuffer(r.FRAMEBUFFER,l.framebuffer),r.clear(r.COLOR_BUFFER_BIT|r.DEPTH_BUFFER_BIT);let c=a.getViewerPose(d);if(!c)return;R=c;let u=c.views[0],m=l.getViewport(u);i.setViewport(m.x,m.y,m.width,m.height),s.matrix.fromArray(u.transform.matrix),s.matrix.decompose(s.position,s.quaternion,s.scale),s.projectionMatrix.fromArray(u.projectionMatrix),s.updateMatrixWorld(!0),i.render(o,s)})}return(0,r.useEffect)(()=>()=>y(),[y]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:x().gallery,children:t.map(e=>(0,a.jsx)(s,{item:e,onClick:()=>{i(e),l(null)}},e.id))}),n&&(0,a.jsx)(p,{item:n,initialSize:o,onSizeSelect:l,onClose:()=>{i(null),y()},isARSupported:c,arActive:u,onARLaunch:j}),(0,a.jsx)("div",{ref:v,style:{position:"fixed",inset:0,pointerEvents:"none",zIndex:1100}})]})}},6278:e=>{e.exports={backdrop:"ModalProduct_backdrop__wCKrB",modal:"ModalProduct_modal__PDB_e",header:"ModalProduct_header__JWIa1",closeBtn:"ModalProduct_closeBtn__oHnts",body:"ModalProduct_body__ufSMw",left:"ModalProduct_left__Qepl5",right:"ModalProduct_right__9cCX5",sizeList:"ModalProduct_sizeList__WLtaH",buttonsRow:"ModalProduct_buttonsRow__Sq78u",arBtn:"ModalProduct_arBtn__DGjo2",contactBtn:"ModalProduct_contactBtn__uJrzh"}},8497:e=>{e.exports={card:"GalleryItemCard_card__LSsy8",imageWrapper:"GalleryItemCard_imageWrapper__fnEds",info:"GalleryItemCard_info__w0cYs",tags:"GalleryItemCard_tags__XKRTm"}},9223:(e,t,n)=>{Promise.resolve().then(n.bind(n,5739))}},e=>{var t=t=>e(e.s=t);e.O(0,[170,367,212,515,441,684,358],()=>t(9223)),_N_E=e.O()}]);