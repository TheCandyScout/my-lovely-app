(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[831],{2536:e=>{e.exports={gallery:"Gallery_gallery__69aHQ"}},5739:(e,t,n)=>{"use strict";n.d(t,{default:()=>v});var r=n(5155),a=n(2115),i=n(6766),l=n(8497),s=n.n(l);function o(e){let{item:t,onClick:n}=e,a=t.sizes[0],l=37.8*a.widthCm,o=37.8*a.heightCm;return(0,r.jsxs)("div",{className:s().card,onClick:n,children:[(0,r.jsx)("div",{className:s().imageWrapper,children:(0,r.jsx)(i.default,{src:t.src,alt:t.title,layout:"responsive",width:l,height:o,objectFit:"cover"})}),(0,r.jsxs)("div",{className:s().info,children:[(0,r.jsx)("h3",{children:t.title}),(0,r.jsx)("p",{className:s().tags,children:t.tags.join(" • ")})]})]})}var d=n(7650),c=n(6894),u=n(7281),m=n(6278),h=n.n(m);function p(e){let{item:t,initialSize:n,onSizeSelect:l,onClose:s,isARSupported:o,arActive:m,onARLaunch:p}=e,f=document.getElementById("modal-root");return((0,a.useEffect)(()=>{if(!f)return;let e=e=>"Escape"===e.key&&s();return document.addEventListener("keydown",e),(0,u.mh)(f,{reserveScrollBarGap:!0}),()=>{document.removeEventListener("keydown",e),(0,u.fY)(f)}},[f,s]),f)?d.createPortal((0,r.jsx)("div",{className:h().backdrop,onClick:s,role:"dialog","aria-modal":"true",children:(0,r.jsx)(c.Ay,{children:(0,r.jsxs)("div",{className:h().modal,onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("header",{className:h().header,children:[(0,r.jsx)("h2",{children:t.title}),(0,r.jsx)("button",{className:h().closeBtn,onClick:s,children:"\xd7"})]}),(0,r.jsxs)("div",{className:h().body,children:[(0,r.jsx)("div",{className:h().left,children:(0,r.jsx)(i.default,{src:t.src,alt:t.title,layout:"responsive",width:800,height:600,objectFit:"contain"})}),(0,r.jsxs)("div",{className:h().right,children:[(0,r.jsx)("p",{children:t.description}),(0,r.jsx)("h3",{children:"Available Sizes"}),(0,r.jsx)("ul",{className:h().sizeList,children:t.sizes.map(e=>(0,r.jsx)("li",{children:(0,r.jsxs)("label",{children:[(0,r.jsx)("input",{type:"radio",name:"size",checked:n===e,onChange:()=>l(e)})," ","".concat(e.size," — $").concat(e.price)]})},e.size))}),o&&(0,r.jsx)("button",{className:h().arBtn,disabled:!n||m,onClick:()=>n&&p(t,n),children:m?"AR Active":"View in Your Space"}),(0,r.jsxs)("p",{style:{marginTop:"1.5rem",color:"#555"},children:["For purchase inquiries, please email"," ",(0,r.jsx)("a",{href:"mailto:you@yourdomain.com",children:"you@yourdomain.com"}),"."]})]})]})]})})}),f):null}var f=n(3264),w=n(7431),x=n(2536),g=n.n(x);function v(e){let{items:t}=e,[n,i]=(0,a.useState)(null),[l,s]=(0,a.useState)(null),[d,c]=(0,a.useState)(!1),[u,m]=(0,a.useState)(!1),h=(0,a.useRef)(null),x=(0,a.useRef)(null),v=(0,a.useRef)(null),y=(0,a.useRef)(null);(0,a.useEffect)(()=>{var e;null==(e=navigator.xr)||e.isSessionSupported("immersive-ar").then(e=>c(e)).catch(()=>c(!1))},[]);let b=(0,a.useCallback)(()=>{h.current&&(h.current.end(),h.current=null),null!=v.current&&(cancelAnimationFrame(v.current),v.current=null),x.current&&(x.current.remove(),x.current=null),m(!1)},[]);async function j(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:256;return new Promise((n,r)=>{let a=new Image;a.crossOrigin="anonymous",a.onload=()=>{let e=Math.min(t/a.naturalWidth,t/a.naturalHeight,1),r=Math.floor(a.naturalWidth*e),i=Math.floor(a.naturalHeight*e),l=document.createElement("canvas");l.width=r,l.height=i,l.getContext("2d").drawImage(a,0,0,r,i);let s=new f.gPd(l);s.flipY=!1,s.colorSpace=f.er$,s.needsUpdate=!0,s.generateMipmaps=!0,s.minFilter=f.$_I,n(s)},a.onerror=r,a.src=e})}async function _(e,t){if(!d)return;b(),(await navigator.mediaDevices.getUserMedia({video:!0})).getTracks().forEach(e=>e.stop());let n=await navigator.xr.requestSession("immersive-ar",{optionalFeatures:["dom-overlay"],domOverlay:{root:y.current}});h.current=n,m(!0),n.addEventListener("end",b);let r=document.createElement("canvas");Object.assign(r.style,{position:"fixed",top:0,left:0,width:"100%",height:"100%",touchAction:"none",cursor:"grab"}),document.body.appendChild(r),x.current=r;let a=r.getContext("webgl2",{xrCompatible:!0,alpha:!0});await a.makeXRCompatible(),n.updateRenderState({baseLayer:new XRWebGLLayer(n,a)});let i=new w.JeP({canvas:r,context:a,alpha:!0});i.setSize(window.innerWidth,window.innerHeight),i.xr.enabled=!0,i.xr.setSession(n),i.xr.setReferenceSpaceType("local");let l=new f.Z58;l.add(new f.dth(0xffffff,4473924,1));let s=new f.ZyN(0xffffff,1.2);s.position.set(0,5,0),l.add(s);let o=new f.ubm(70,window.innerWidth/window.innerHeight,.01,20),c=await n.requestReferenceSpace("local"),u=.01*t.widthCm,p=.01*t.heightCm,g=await j(e.src),v=g.image,_=v.width/v.height,C=u,E=p;_>u/p?E=u/_:C=p*_;let S=new f.YJl;S.visible=!1,l.add(S);let k=new f.V9B({map:g,side:f.$EB,depthWrite:!0}),F=new f.eaF(new f.bdM(C,E),k);S.add(F),j(e.src,Math.max(2048,1e3*C,1e3*E)).then(e=>{k.map=e,k.needsUpdate=!0}).catch(console.warn);let P=null,R=null;n.addEventListener("select",()=>{P&&(l.remove(P),P=null,S.visible=!1),function(){if(!R)return;let e=R.views[0],t=new f.kn4().fromArray(e.transform.matrix),n=new f.Pq0,r=new f.PTz;t.decompose(n,r,new f.Pq0);let a=new f.Pq0(0,0,-1).applyQuaternion(r).setY(0).normalize(),i=n.clone().add(a.multiplyScalar(3*.0254)),s=new f.kn4().lookAt(i,n,new f.Pq0(0,1,0)),o=new f.PTz().setFromRotationMatrix(s).multiply(new f.PTz().setFromAxisAngle(new f.Pq0(0,0,1),Math.PI)),d=4/3*C,c=4/3*E;(P=new f.eaF(new f.bdM(d,c),new f.V9B({color:0xdddddd,side:f.$EB}))).position.copy(i),P.quaternion.copy(o),S.position.set(0,0,0),S.quaternion.identity(),P.add(S),S.visible=!0,l.add(P),F.position.z=-.001}()}),n.requestAnimationFrame(function e(t,r){n.requestAnimationFrame(e);let s=n.renderState.baseLayer;a.bindFramebuffer(a.FRAMEBUFFER,s.framebuffer),a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT);let d=r.getViewerPose(c);if(!d)return;R=d;let u=d.views[0],m=s.getViewport(u);i.setViewport(m.x,m.y,m.width,m.height),o.matrix.fromArray(u.transform.matrix),o.matrix.decompose(o.position,o.quaternion,o.scale),o.projectionMatrix.fromArray(u.projectionMatrix),o.updateMatrixWorld(!0),i.render(l,o)})}return(0,a.useEffect)(()=>()=>b(),[b]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:g().gallery,children:t.map(e=>(0,r.jsx)(o,{item:e,onClick:()=>{i(e),s(null)}},e.id))}),n&&(0,r.jsx)(p,{item:n,initialSize:l,onSizeSelect:s,onClose:()=>{i(null),b()},isARSupported:d,arActive:u,onARLaunch:_}),(0,r.jsx)("div",{ref:y,style:{position:"fixed",inset:0,pointerEvents:"none",zIndex:1100}})]})}},6278:e=>{e.exports={modal:"ModalProduct_modal__PDB_e",body:"ModalProduct_body__ufSMw",backdrop:"ModalProduct_backdrop__wCKrB"}},8497:e=>{e.exports={card:"GalleryItemCard_card__LSsy8",imageWrapper:"GalleryItemCard_imageWrapper__fnEds",info:"GalleryItemCard_info__w0cYs",tags:"GalleryItemCard_tags__XKRTm"}},9223:(e,t,n)=>{Promise.resolve().then(n.bind(n,5739))}},e=>{var t=t=>e(e.s=t);e.O(0,[170,367,212,515,441,684,358],()=>t(9223)),_N_E=e.O()}]);